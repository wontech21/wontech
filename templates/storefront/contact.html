{% extends 'storefront/base.html' %}

{% block title %}Contact â€” {{ org.organization_name }}{% endblock %}

{% block content %}
<section class="sf-section">
    <div class="sf-container">
        <h1 class="sf-page-title sf-text-center">Contact Us</h1>

        <div class="sf-grid-2 sf-mt-8">
            <!-- Contact Info -->
            <div>
                <div class="sf-contact-card">
                    {% if org.phone %}
                    <div class="sf-contact-card__item">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6A19.79 19.79 0 012.12 4.18 2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"/>
                        </svg>
                        <div>
                            <h3>Phone</h3>
                            <a href="tel:{{ org.phone }}">{{ org.phone }}</a>
                        </div>
                    </div>
                    {% endif %}

                    {% if org.address %}
                    <div class="sf-contact-card__item">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/>
                            <circle cx="12" cy="10" r="3"/>
                        </svg>
                        <div>
                            <h3>Address</h3>
                            <p>{{ org.address }}</p>
                            {% if org.city and org.state %}
                            <p>{{ org.city }}, {{ org.state }} {{ org.zip_code or '' }}</p>
                            {% endif %}
                            {% if org.google_maps_url %}
                            <a href="{{ org.google_maps_url }}" target="_blank" rel="noopener" class="sf-link">Get Directions</a>
                            {% endif %}
                        </div>
                    </div>
                    {% endif %}

                    {% if org.owner_email %}
                    <div class="sf-contact-card__item">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                            <polyline points="22,6 12,13 2,6"/>
                        </svg>
                        <div>
                            <h3>Email</h3>
                            <a href="mailto:{{ org.owner_email }}">{{ org.owner_email }}</a>
                        </div>
                    </div>
                    {% endif %}

                    {% if org.facebook_url or org.instagram_url %}
                    <div class="sf-contact-card__item">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="2" y1="12" x2="22" y2="12"/>
                            <path d="M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"/>
                        </svg>
                        <div>
                            <h3>Social</h3>
                            <div class="sf-contact-social">
                                {% if org.facebook_url %}
                                <a href="{{ org.facebook_url }}" target="_blank" rel="noopener">Facebook</a>
                                {% endif %}
                                {% if org.instagram_url %}
                                <a href="{{ org.instagram_url }}" target="_blank" rel="noopener">Instagram</a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>

            <!-- Hours -->
            <div>
                <h2 class="sf-section__title">Business Hours</h2>
                {% if hours %}
                <table class="sf-hours">
                    <tbody>
                        {% set day_names = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'] %}
                        {% for h in hours %}
                        <tr>
                            <td class="sf-hours__day">{{ day_names[h.day_of_week] }}</td>
                            <td class="sf-hours__time">
                                {% if h.is_closed %}
                                <span class="sf-badge sf-badge--closed">Closed</span>
                                {% else %}
                                {{ h.open_time }} &ndash; {{ h.close_time }}
                                {% endif %}
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                {% endif %}

                {% if org.google_maps_url %}
                <div class="sf-map sf-mt-8">
                    <a href="{{ org.google_maps_url }}" target="_blank" rel="noopener" class="sf-btn sf-btn--outline sf-btn--block">
                        View on Google Maps
                    </a>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>
{% endblock %}
